
<html>
<head>
    <script type = "text/javascript">

        function myfunction() {
            alert(document.getElementById('text').value);

            var text = document.getElementById('text').value;
            var retour = [];
            var delimiteurs = " ";
            var tok = text.split(' ')[0];

            console.log(tok);
            alert(tok);


            Settlement.implode = function(glue, pieces)
            {

                var	retVal = '';
                var	tGlue = '';
                if (arguments.length === 1)
                {
                    pieces = glue;
                    glue = '';
                }
                if (typeof pieces === 'object')
                {
                    if (Object.prototype.toString.call(pieces) === '[object Array]')
                    {
                        return pieces.join(glue);
                    }
                    for (const i in pieces)
                    {
                        retVal += tGlue + pieces[i];
                        tGlue = glue;
                    }
                    return retVal;
                }
                return pieces;
            }
// ------------------------
// Function : default_key
// This is an alternate function which
// is find default key of map.
// We assume that passing parameter is a
// Object of javascript.
            Settlement.default_key = function (obj) {
                var result = 0;
                Object.entries(obj).map(item => {
                    // It's not 100 % accurate when
                    // given key = 1 or key = "1"
                    // both same in javascript.
                    // Or key is an string in javascript object.
                    const num = Number(item[0]);
                    // Check key is integer and key
                    // is not less than result
                    if(Number.isInteger(num) &&
                        num >= result)
                    {
                        // Get new key
                        result = num + 1;
                    }
                })
                // Important set empty
                // when access [][]
                // array of array.
                obj[result] = {};
                return result;
            }
            Settlement.array_push = function(target,values)
            {
                // Assume target is an map
                // Assume values is collection of new iteam
                // Add new value into collection
                for (const value of values) {

                    target[Settlement.default_key(target)] = value
                }
                return target.size;
            }


        }

    </script>
</head>
<body>
<textarea id="text" name="text"> </textarea>
<input type = "button" onclick = "myfunction()" value = "Display">

<p>
    <span id="tocopy">!! $text_sortie </span>
</p>

</body>
</html>



<script>



    var btncopy = document.querySelector('.js-copy');
    if(btncopy) {
        btncopy.addEventListener('click', docopy);
    }

    function docopy() {
        var range = document.createRange();
        var target = this.dataset.target;
        var fromElement = document.querySelector(target);
        var selection = window.getSelection();

        range.selectNode(fromElement);
        selection.removeAllRanges();
        selection.addRange(range);

        try {
            var result = document.execCommand('copy');
            if (result) {
                // La copie a réussi
                //  alert('Copié !');
            }
        }
        catch(err) {
            // Une erreur est surevnue lors de la tentative de copie
            //   alert(err);
        }

        selection = window.getSelection();

        if (typeof selection.removeRange === 'function') {
            selection.removeRange(range);
        } else if (typeof selection.removeAllRanges === 'function') {
            selection.removeAllRanges();
        }
    }
</script>


